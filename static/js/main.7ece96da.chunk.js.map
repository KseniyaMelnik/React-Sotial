{"version":3,"sources":["Assets/Images/preloader.svg","components/common/preloader/Preloader.tsx","components/Users/Users.module.css","utils/validators/validators.ts","Redux/profile-reducer.ts","Redux/dialogs-reducer.ts","Assets/Images/avatar.png","api/chat-api.ts","Redux/chat-reducer.ts","components/Friends/Friends.module.css","api/api.ts","reportWebVitals.ts","Redux/sidebar-reducer.ts","utils/object-helpers.ts","Redux/users-reducer.ts","Redux/auth-reducer.ts","Redux/app-reducer.ts","Redux/redux-store.ts","components/News/News.tsx","components/Music/Music.tsx","components/Settings/Settings.tsx","components/Friends/Friends.tsx","components/common/Paginator/Paginator.tsx","components/Users/User.tsx","components/Users/UsersSearchForm.tsx","components/Users/Users.tsx","Redux/users-selectors.ts","components/Users/UsersContainer.tsx","components/login/Login.tsx","components/Header/Header.tsx","App.tsx","index.tsx","components/common/formControls/FormControls.tsx","components/common/formControls/FormControls.module.css"],"names":["Preloader","src","preloader","module","exports","required","value","maxLengthCreator","maxLength","length","initialState","posts","id","message","likesCount","image","profile","status","newPostText","addPostActionCreator","newPostBody","type","setStatus","getUserProfile","userID","dispatch","a","profileAPI","getProfile","response","data","getStatus","updateStatus","resultCode","console","error","savePhoto","file","photos","saveProfile","getState","userId","auth","messages","stopSubmit","_error","Promise","reject","profileReducer","state","action","filter","p","dialogs","name","avatar","sendMessageCreator","newMessageBody","dialogsReducer","body","subscribers","ws","closeHandler","notifySubscribersAboutStatus","setTimeout","createChannel","messageHandler","e","newMessages","JSON","parse","forEach","s","openHandler","errorHandler","cleanUp","removeEventListener","close","WebSocket","addEventListener","chatAPI","eventName","callback","push","send","messagesDeleted","_newMessageHandler","newMessageHandlerCreator","payload","messagesReceived","_statusChangedHandler","statusChangedHandlerCreator","statusChanged","startMessagesListening","stopMessagesListening","sendMessage","chatReducer","map","m","v1","index","array","instance","axios","create","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","term","friend","get","then","follow","post","unfollow","delete","put","photoFile","formData","FormData","append","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","friends","sidebarReducer","updateObjectArray","items","itemID","objPropName","newObjProps","u","users","totalUsersCount","isFetching","followingInProgress","setCurrentPage","setFilter","toggleIsFetching","toggleISFollowingProgress","usersReducer","followed","isAuth","captchaUrl","myProfile","setAuthUserData","getCaptchaUrlSuccess","getAuthUserData","url","authReducer","initialized","globalError","appReducer","rootReducer","combineReducers","profilePage","dialogsPage","sideBar","usersPage","form","formReducer","app","chat","store","createStore","applyMiddleware","thunkMiddleware","window","News","Music","Settings","Friends","className","friendsContainer","Paginator","totalCount","onPageChanged","onChange","total","User","React","memo","props","user","to","small","userPhoto","alt","disabled","some","onClick","usersSearchFormValidate","values","UsersSearchForm","search","initialValues","validate","onSubmit","setSubmitting","onFilterChanged","isSubmitting","as","htmlType","Users","getIsFetching","getPageSize","getTotalUsersCount","getCurrentPage","getFollowingInProgress","getUsersFilter","UsersContainer","pageNumber","requestUsers","this","Component","compose","connect","page","LoginReduxForm","reduxForm","handleSubmit","Field","placeholder","component","Input","formSummaryError","Header","Layout","useSelector","useDispatch","useEffect","avatarAddress","undefined","span","theme","mode","defaultSelectedKeys","Item","style","backgroundColor","border","size","icon","UserOutlined","ProfileContainer","lazy","DialogsContainer","ChatPage","SubMenu","Menu","Content","Sider","App","catchAllUnhandledErrors","promiseRejectionEvent","alert","initializeApp","width","height","borderRight","title","LaptopOutlined","NotificationOutlined","padding","margin","minHeight","path","render","fallback","exact","AppContainer","withRouter","SamuraiJSApp","ReactDOM","document","getElementById","FormControl","input","meta","child","hasError","touched","formControl","children","Textarea","restProps"],"mappings":"wIAAe,UAA0B,sC,cCG5BA,EAAY,WACrB,OAAO,qBAAKC,IAAKC,M,oBCHrBC,EAAOC,QAAU,CAAC,UAAY,yBAAyB,OAAS,sBAAsB,KAAO,sB,iCCA7F,oEAAO,IAAMC,EAAW,SAACC,GACrB,IAAIA,EACJ,MAAO,qBAGEC,EAAmB,SAACC,GAAD,OAAoB,SAACF,GACjD,GAAIA,GAASA,EAAMG,OAASD,EAAW,MAAM,iBAAN,OAAwBA,EAAxB,e,ySCEvCE,EAAe,CACfC,MAAO,CACH,CACIC,GAAI,EACJC,QAAS,kBACTC,WAAY,EACZC,MAAO,uGAEX,CACIH,GAAI,EACJC,QAAS,qBACTC,WAAY,GACZC,MAAO,mEAGfC,QAAS,KACTC,OAAQ,GACRC,YAAa,IAyCJC,EAAuB,SAACC,GAAD,MAA0B,CAACC,KAAM,mCAAoCD,gBAC5FE,EAAY,SAACL,GAAD,MAAqB,CAACI,KAAM,qCAAsCJ,WAK9EM,EAAiB,SAACC,GAAD,8CAAoB,WAAOC,GAAP,eAAAC,EAAA,sEACzBC,IAAWC,WAAWJ,GADG,OAC1CK,EAD0C,OAE1CJ,EANsD,CAACJ,KAAM,2CAA4CL,QAMjFa,EAASC,OAFS,2CAApB,uDAIjBC,EAAY,SAACP,GAAD,8CAAiC,WAAOC,GAAP,eAAAC,EAAA,sEACjCC,IAAWI,UAAUP,GADY,OAClDK,EADkD,OAElDJ,EAASH,EAAUO,EAASC,OAFsB,2CAAjC,uDAKZE,EAAe,SAACf,GAAD,8CAAiC,WAAOQ,GAAP,SAAAC,EAAA,+EAGxBC,IAAWK,aAAaf,GAHA,OAIZ,IAJY,OAIhCa,KAAKG,YACdR,EAASH,EAAUL,IALsB,gDAQ/CiB,QAAQC,MAAR,MAR+C,yDAAjC,uDAYfC,EAAY,SAACC,GAAD,8CAA4B,WAAOZ,GAAP,eAAAC,EAAA,sEAC5BC,IAAWS,UAAUC,GADO,OAEhB,KAD7BR,EAD6C,QAEpCC,KAAKG,YACdR,EA1B0C,CAACJ,KAAM,qCAAsCiB,OA0B7DT,EAASC,KAAKA,KAAKQ,SAHA,2CAA5B,uDAOZC,EAAc,SAACvB,GAAD,8CAA+B,WAAOS,EAAUe,GAAjB,mBAAAd,EAAA,6DAChDe,EAASD,IAAWE,KAAKD,OADuB,SAEjCd,IAAWY,YAAYvB,GAFU,UAGrB,KAD7Ba,EAFkD,QAGzCC,KAAKG,WAHoC,gBAIlDQ,GAAUhB,EAASF,EAAekB,IAJgB,8BAM9C5B,EAAUgB,EAASC,KAAKa,SAASlC,OAAS,EAAIoB,EAASC,KAAKa,SAAS,GAAK,aAC9ElB,EAASmB,YAAW,cAAe,CAACC,OAAQhC,KAPM,kBAQ3CiC,QAAQC,OAAOlC,IAR4B,4CAA/B,yDAYZmC,IApFQ,WAAsE,IAArEC,EAAoE,uDAA5DvC,EAAcwC,EAA8C,uCAExF,OAAQA,EAAO7B,MACX,IAAK,mCACD,OAAO,2BAAI4B,GAAX,IACItC,MAAM,GAAD,mBAAMsC,EAAMtC,OAAZ,CAAmB,CACpBC,GAAI,EACJC,QAASqC,EAAO9B,YAChBN,WAAY,EACZC,MAAO,oEAEXG,YAAc,KAGtB,IAAK,2CACD,OAAO,2BAAI+B,GAAX,IACIjC,QAASkC,EAAOlC,UAGxB,IAAK,qCACD,OAAO,2BAAIiC,GAAX,IACIhC,OAAQiC,EAAOjC,SAGvB,IAAK,sCACD,OAAO,2BAAIgC,GAAX,IACItC,MAAOsC,EAAMtC,MAAMwC,QAAO,SAAAC,GAAC,OAAGA,EAAExC,KAAOsC,EAAOtC,QAGtD,IAAK,qCAED,OAAO,2BAAIqC,GAAX,IAAkBjC,QAAQ,2BAAKiC,EAAMjC,SAAZ,IAAqBsB,OAAQY,EAAOZ,WAIrE,OAAOW,I,sFClDLvC,EAAe,CACjB2C,QAAS,CACL,CACIzC,GAAI,EACJ0C,KAAM,SACNC,OAAQ,0pFAEZ,CACI3C,GAAI,EACJ0C,KAAM,SACNC,OAAQ,uGAEZ,CACI3C,GAAI,EACJ0C,KAAM,QACNC,OAAQ,uGAEZ,CACI3C,GAAI,EACJ0C,KAAM,QACNC,OAAQ,uGAEZ,CACI3C,GAAI,EACJ0C,KAAM,SACNC,OAAQ,uGAEZ,CACI3C,GAAI,EACJ0C,KAAM,SACNC,OAAQ,wGAGhBZ,SAAU,CACN,CACI/B,GAAI,EACJC,QAAS,KACT0C,OAAQ,0pFAEZ,CACI3C,GAAI,EACJC,QAAS,2BACT0C,OAAQ,kEAEZ,CACI3C,GAAI,EACJC,QAAS,KACT0C,OAAQ,0pFAEZ,CAAC3C,GAAI,EAAGC,QAAS,KAAM0C,OAAQ,kEAC/B,CACI3C,GAAI,EACJC,QAAS,KACT0C,OAAQ,4pFAoBPC,EAAqB,SAACC,GAAD,MAA8B,CAACpC,KAAM,uCAAwCoC,mBAEhGC,IAlBQ,WAAuE,IAAtET,EAAqE,uDAA7DvC,EAAcwC,EAA+C,uCAEzF,OAAQA,EAAO7B,MACX,IAAK,uCACD,IAAMsC,EAAOT,EAAOO,eACpB,OAAO,2BAAIR,GAAX,IACIN,SAAS,GAAD,mBAAMM,EAAMN,UAAZ,CAAsB,CAC1B/B,GAAI,EACJC,QAAS8C,EACTJ,OAAQ,8pFAIxB,OAAON,I,iCCpFI,k4M,qNCETW,EAAc,CAChB,oBAAqB,GACrB,iBAAkB,IAGlBC,EAAuB,KAGrBC,EAAe,WACjBC,EAA6B,WAC7BC,WAAWC,EAAe,MAExBC,EAAiB,SAACC,GACpB,IAAIC,EAAcC,KAAKC,MAAMH,EAAErC,MAC/B8B,EAAY,qBAAqBW,SAAQ,SAAAC,GAAC,OAAEA,EAAEJ,OAE5CK,EAAc,WAChBV,EAA6B,UAE3BW,EAAe,WACjBX,EAA6B,UAE3BY,EAAU,WAAO,IAAD,QAChB,QAAF,EAAAd,SAAA,SAAIe,oBAAoB,QAASd,GAC/B,QAAF,EAAAD,SAAA,SAAIe,oBAAoB,UAAWV,GACjC,QAAF,EAAAL,SAAA,SAAIe,oBAAoB,OAAQH,GAC9B,QAAF,EAAAZ,SAAA,SAAIe,oBAAoB,QAASF,IAG/BX,EAA+B,SAAC9C,GAClC2C,EAAY,kBAAkBW,SAAQ,SAAAC,GAAC,OAAEA,EAAEvD,OAG/C,SAASgD,IAAiB,IAAD,EACrBU,IACE,QAAF,EAAAd,SAAA,SAAIgB,QACJhB,EAAK,IAAIiB,UAAU,gEACnBf,EAA6B,WAC7BF,EAAGkB,iBAAiB,QAASjB,GAC7BD,EAAGkB,iBAAiB,UAAWb,GAC/BL,EAAGkB,iBAAiB,OAAQN,GAC5BZ,EAAGkB,iBAAiB,QAASL,GAG1B,IAAMM,EAAU,WAEff,KAFKe,EAAU,WAIZ,IAAD,EACFpB,EAAY,qBAAqB,GACjCA,EAAY,kBAAkB,GAC9Be,IACE,QAAF,EAAAd,SAAA,SAAIgB,SARCG,EAAU,SAUTC,EAA2BC,GAGjC,OADAtB,EAAYqB,GAAWE,KAAKD,GACrB,WAEHtB,EAAYqB,GAAarB,EAAYqB,GAAW9B,QAAO,SAAAqB,GAAC,OAAGA,IAAMU,OAfhEF,EAAU,SAkBPC,EAA2BC,GAEnCtB,EAAYqB,GAAarB,EAAYqB,GAAW9B,QAAO,SAAAqB,GAAC,OAAGA,IAAMU,MApB5DF,EAAU,SAuBPnE,GAAiB,IAAD,EACtB,QAAF,EAAAgD,SAAA,SAAIuB,KAAKvE,I,SC3DbH,EAAe,CACfiC,SAAU,GACV1B,OAAQ,WA4BCoE,EAAkB,iBAAO,CAAChE,KAAM,0CAEzCiE,EAAuE,KACrEC,EAA2B,SAAC9D,GAO9B,OAN2B,OAAvB6D,IACAA,EAAqB,SAAC3C,GAClBlB,EARoB,SAACkB,GAAD,MAAqC,CAACtB,KAAM,yCAA0CmE,QAAS7C,GAQ1G8C,CAAiB9C,MAI3B2C,GAEPI,EAA8D,KAC5DC,EAA8B,SAAClE,GAMjC,OAL8B,OAA1BiE,IACAA,EAAwB,SAACzE,GACrBQ,EAjBiB,SAACR,GAAD,MAAyB,CAACI,KAAM,sCAAuCmE,QAASvE,GAiBxF2E,CAAc3E,MAGxByE,GAGEG,EAAyB,yDAAoB,WAAOpE,GAAP,SAAAC,EAAA,sDACtDsD,IACAA,EAAkB,oBAAqBO,EAAyB9D,IAChEuD,EAAkB,iBAAkBW,EAA4BlE,IAHV,2CAApB,uDAMzBqE,EAAwB,yDAAoB,WAAOrE,GAAP,SAAAC,EAAA,sDACrDsD,EAAoB,oBAAqBO,EAAyB9D,IAClEuD,EAAoB,iBAAkBW,EAA4BlE,IAClEuD,IAHqD,2CAApB,uDAKxBe,EAAc,SAAClF,GAAD,8CAAmC,WAAOY,GAAP,SAAAC,EAAA,sDAC1DsD,EAAoBnE,GADsC,2CAAnC,uDAKZmF,IA/DK,WAAoE,IAAnE/C,EAAkE,uDAA1DvC,EAAcwC,EAA4C,uCAEnF,OAAQA,EAAO7B,MACX,IAAK,yCACD,OAAO,2BACA4B,GADP,IAEIN,SAAU,sBAAIM,EAAMN,UAAV,YAAuBO,EAAOsC,QAAQS,KAAI,SAAAC,GAAC,kCAAOA,GAAP,IAAUtF,GAAIuF,qBAAShD,QAAO,SAAC+C,EAAGE,EAAOC,GAAX,OAAoBD,GAAUC,EAAM5F,OAAS,SAEpI,IAAK,sCACD,OAAO,2BACAwC,GADP,IAEIhC,OAAQiC,EAAOsC,UAE3B,IAAK,wCACD,OAAO,2BAAKvC,GAAZ,IACAN,SAAU,KAGd,QACI,OAAOM,K,oBClCnB9C,EAAOC,QAAU,CAAC,iBAAmB,oC,4ECDrC,qJAEMkG,EAFN,OAEiBC,EAAcC,OAAO,CAClCC,QAAS,gDACTC,iBAAiB,EACjBC,QAAS,CACL,UAAW,0CAKNC,EAAW,CACpBC,SADoB,WAC+D,IAA1EC,EAAyE,uDAA3D,EAAGC,EAAwD,uDAA7C,GAAIC,EAAyC,uDAAnC,GAAIC,EAA+B,uDAAN,KACxE,OAAOX,EAASY,IAAI,qBAAcJ,EAAd,kBAAmCC,EAAnC,iBAAoDC,IAAoB,OAAXC,EAAkB,GAAlB,kBAAkCA,KAC9GE,MAAK,SAAAtF,GAAQ,OAAIA,EAASC,SAEnCsF,OALoB,SAKb5F,GACH,OAAO8E,EAASe,KAAT,iBAAwB7F,KAEnC8F,SARoB,SAQX9F,GACL,OAAO8E,EAASiB,OAAT,iBAA0B/F,MAK5BG,EAAa,CACtBC,WADsB,SACXa,GACP,OAAO6D,EAASY,IAAI,WAAazE,IAErCV,UAJsB,SAIZU,GACN,OAAO6D,EAASY,IAAI,kBAAoBzE,IAE5CT,aAPsB,SAOTf,GACT,OAAOqF,EAASkB,IAAT,iBAA+B,CAACvG,OAAQA,KAEnDmB,UAVsB,SAUZqF,GACN,IAAMC,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,QAASH,GAClBnB,EAASkB,IAAT,gBAA8BE,EAAU,CAC3Cf,QAAS,CACL,eAAgB,0BAI5BpE,YAnBsB,SAmBVvB,GACR,OAAOsF,EAASkB,IAAT,UAAwBxG,KAI1B6G,EAAU,CACnBC,GADmB,WAEf,OAAOxB,EAASY,IAAT,YAEZa,MAJoB,SAIbC,EAAeC,GAA6D,IAA3CC,EAA0C,wDAAtBC,EAAsB,uCAC7E,OAAO7B,EAASe,KAAT,aAA4B,CAACW,QAAOC,WAAUC,aAAYC,aAErEC,OAPmB,WAQf,OAAO9B,EAASiB,OAAT,gBAIFc,EAAc,CACvBC,cADuB,WAEnB,OAAOhC,EAASY,IAAT,+B,wCC7Df,IAYeqB,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBtB,MAAK,YAAkD,IAA/CuB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,qLCAR9H,EAAgB,CAClBqI,QAAS,CACL,CACInI,GAAI,EACJ0C,KAAM,SACNC,OAAQ,0pFAEZ,CACI3C,GAAI,EACJ0C,KAAM,SACNC,OAAQ,uGAEZ,CACI3C,GAAI,EACJ0C,KAAM,QACNC,OAAQ,yGAULyF,EALQ,WAAsE,IAArE/F,EAAoE,uDAA7DvC,EAE3B,OAAOuC,G,gDC/BGgG,EAAoB,SAACC,EAAmBC,EAAaC,EAAkBC,GACjF,OAAOH,EAAMjD,KAAI,SAAAqD,GAAC,OAAIA,EAAEF,KAAiBD,EAAnB,2BAAgCG,GAAMD,GAAeC,MCgB3E5I,EAAe,CACf6I,MAAO,GACPxC,SAAU,IACVyC,gBAAiB,EACjB1C,YAAa,EACb2C,YAAY,EACZC,oBAAqB,GACrBvG,OAAQ,CACJ6D,KAAM,GACNC,OAAQ,OAkDH0C,EAAiB,SAAC7C,GAAD,MAA0B,CAACzF,KAAM,yCAA0CyF,YAAaA,IACzG8C,EAAY,SAACzG,GAAD,MAAyB,CAAC9B,KAAM,mCAAoCmE,QAASrC,IAGzF0G,EAAmB,SAACJ,GAAD,MAA0B,CAACpI,KAAM,2CAA4CoI,eAChGK,EAA4B,SAACL,EAAqBhH,GAAtB,MAA0C,CAACpB,KAAM,qDAAsDoI,aAAYhH,WAmC7IsH,EArFM,WAAqE,IAApE9G,EAAmE,uDAA3DvC,EAAcwC,EAA6C,uCAErF,OAAQA,EAAO7B,MACX,IAAK,+BACD,OAAO,2BACA4B,GADP,IAEIsG,MAAON,EAAkBhG,EAAMsG,MAAOrG,EAAO1B,OAAQ,KAAM,CAACwI,UAAU,MAE9E,IAAK,iCACD,OAAO,2BACA/G,GADP,IAEIsG,MAAON,EAAkBhG,EAAMsG,MAAOrG,EAAO1B,OAAQ,KAAM,CAACwI,UAAU,MAE9E,IAAK,kCACD,OAAO,2BAAK/G,GAAZ,IAAmBsG,MAAM,YAAKrG,EAAOqG,SAEzC,IAAK,yCACD,OAAO,2BAAKtG,GAAZ,IAAoB6D,YAAa5D,EAAO4D,cAE5C,IAAK,mCACD,OAAO,2BAAI7D,GAAX,IAAkBE,OAAQD,EAAOsC,UAErC,IAAK,8CACD,OAAO,2BAAKvC,GAAZ,IAAoBuG,gBAAiBtG,EAAOsG,kBAEhD,IAAK,2CACD,OAAO,2BAAKvG,GAAZ,IAAoBwG,WAAYvG,EAAOuG,aAE3C,IAAK,qDACD,OAAO,2BAAIxG,GAAX,IACIyG,oBAAqBxG,EAAOuG,WAAP,sBACXxG,EAAMyG,qBADK,CACgBxG,EAAOT,SACtCQ,EAAMyG,oBAAoBvG,QAAO,SAAAvC,GAAE,OAAIA,IAAOsC,EAAOT,YAInE,QACI,OAAOQ,I,QC3DfvC,EAAe,CACf+B,OAAQ,KACRuF,MAAO,KACPD,MAAO,KACPkC,QAAQ,EACRC,WAAY,KACZC,UAAW,MAkBFC,EAAkB,SAAC3H,EAAqBuF,EAAoBD,EAAoBkC,GAA9D,MAAmF,CAAC5I,KAAM,qCAAsCmE,QAAS,CAAC/C,OAAQA,EAAQuF,QAAOD,QAAOkC,YAC1LI,EAAuB,SAACH,GAAD,MAAyB,CAAC7I,KAAM,+CAAgDmE,QAAS,CAAC0E,gBAGjHI,EAAkB,yDAAoB,WAAO7I,GAAP,uBAAAC,EAAA,sEAC1BmG,IAAQC,KADkB,OAEd,KAD7BjG,EAD2C,QAElCC,KAAKG,aAAmB,EACRJ,EAASC,KAAKA,KAAlClB,EAD2B,EAC3BA,GAAImH,EADuB,EACvBA,MAAOC,EADgB,EAChBA,MAChBvG,EAAS2I,EAAgBxJ,EAAIoH,EAAOD,GAAO,KAJA,2CAApB,uDA4BlBO,EAAgB,yDAAoB,WAAO7G,GAAP,iBAAAC,EAAA,sEACtB2G,IAAYC,gBADU,OACvCzG,EADuC,OAEvCqI,EAAarI,EAASC,KAAKyI,IACjC9I,EAAS4I,EAAqBH,IAHe,2CAApB,uDAadM,EA5DK,WAAoE,IAAnEvH,EAAkE,uDAA1DvC,EAAcwC,EAA4C,uCAEnF,OAAQA,EAAO7B,MACX,IAAK,+CACL,IAAK,qCACL,IAAK,sCACD,OAAO,2BACA4B,GACAC,EAAOsC,SAElB,QACI,OAAOvC,I,kBC1BfvC,EAAe,CACf+J,aAAa,EACbC,YAAa,MA2BFC,EAvBI,WAAyE,IAAxE1H,EAAuE,uDAA/DvC,EAAcwC,EAAiD,uCAEvF,OAAQA,EAAO7B,MACX,IAAK,0CACD,OAAO,2BACA4B,GADP,IAEIwH,aAAa,IAErB,QACI,OAAOxH,I,SCKf2H,EAAcC,YAAgB,CAC9BC,YAAa9H,IACb+H,YAAarH,IACbsH,QAAShC,EACTiC,UAAWlB,EACXrH,KAAM8H,EACNU,KAAMC,IACNC,IAAKT,EACLU,KAAMrF,MA8BCsF,EAAQC,YAAYX,EAAaY,YAAgBC,MAG5DC,OAAOJ,MAAQA,E,4BCzDAK,GALF,WACT,OACI,wCCGOC,GALD,WACV,OACI,yCCGOC,GALE,WACb,OACI,4C,qBCuBOC,GAjBC,WAMZ,OAAO,qBAAKC,UAAWvH,KAAEwH,oB,UCJdC,GAJgC,SAAC,GAAgC,IAA/BC,EAA8B,EAA9BA,WAAWC,EAAmB,EAAnBA,cACxD,OAAO,cAAC,KAAD,CAAYC,SAAUD,EAAeE,MAAOH,K,yCCmCxCI,GA9BFC,IAAMC,MAAK,SAACC,GACrB,IAAIC,EAAOD,EAAMC,KACjB,OAAQ,gCACI,iCACI,8BACI,cAAC,IAAD,CAASC,GAAI,YAAcD,EAAK9L,GAAhC,SACA,qBAAKX,IAA2B,OAAtByM,EAAKpK,OAAOsK,MAAiBF,EAAKpK,OAAOsK,MAAQC,KAAWC,IAAKJ,EAAKpJ,KAC3EyI,UAAWvH,KAAEqI,gBAGtB,8BACKH,EAAK1C,SACA,cAAC,KAAD,CAAQ3I,KAAK,UAAU0L,SAAUN,EAAM/C,oBAAoBsD,MAAK,SAAApM,GAAE,OAAIA,IAAO8L,EAAK9L,MAAKqM,QAAS,WAC9FR,EAAMnF,SAASoF,EAAK9L,KADtB,sBAGA,cAAC,KAAD,CAAQmM,SAAUN,EAAM/C,oBAAoBsD,MAAK,SAAApM,GAAE,OAAIA,IAAO8L,EAAK9L,MAAKqM,QAAS,WAC/ER,EAAMrF,OAAOsF,EAAK9L,KADpB,yBAKd,+BACI,iCACI,8BAAM8L,EAAKpJ,OACX,8BAAMoJ,EAAKzL,oB,UC/B7BiM,GAA0B,SAACC,GAE7B,MADe,IAWNC,GAAuCb,IAAMC,MAAK,SAACC,GAS5D,OAAO,qBAAKV,UAAWvH,KAAE6I,OAAlB,SACH,cAAC,KAAD,CACIC,cAAe,CAACtG,KAAM,GAAIC,OAAQ,QAClCsG,SAAUL,GACVM,SAZO,SAACL,EAAD,GAA4F,IAAxEM,EAAuE,EAAvEA,cAC5BtK,EAAqB,CACvB6D,KAAMmG,EAAOnG,KACbC,OAA0B,SAAlBkG,EAAOlG,OAAmB,KAAyB,SAAlBkG,EAAOlG,QAEjDwF,EAAMiB,gBAAgBvK,GACzBsK,GAAc,IAGX,SAKK,gBAAEE,EAAF,EAAEA,aAAF,OACG,eAAC,KAAD,CAAM5B,UAAWvH,KAAE0G,KAAnB,UACI,cAAC,KAAD,CAAO7J,KAAK,OAAOiC,KAAK,SACxB,eAAC,KAAD,CAAOA,KAAK,SAASsK,GAAG,SAAxB,UACI,wBAAQtN,MAAM,OAAd,iBACA,wBAAQA,MAAM,OAAd,2BACA,wBAAQA,MAAM,QAAd,gCAEJ,cAAC,KAAD,CAAQuN,SAAS,SAASd,SAAUY,EAApC,6BCFLG,GAnBD,SAACrB,GACX,OAAO,gCACH,cAACW,GAAD,CAAiBM,gBAAmBjB,EAAMiB,kBAC1C,cAAC,GAAD,CAAWvB,cAAeM,EAAMN,cACrBD,WAAYO,EAAMjD,kBAE7B,8BAEQiD,EAAMlD,MAAMtD,KAAI,SAAAqD,GAAC,OAAI,cAAC,GAAD,CAAMoD,KAAMpD,EACNI,oBAAqB+C,EAAM/C,oBAC3BtC,OAAQqF,EAAMrF,OACdE,SAAUmF,EAAMnF,UACXgC,EAAE1I,aC7BrCiG,GAAW,SAAC5D,GACrB,OAAOA,EAAMgI,UAAU1B,OAEdwE,GAAgB,SAAC9K,GAC1B,OAAOA,EAAMgI,UAAUxB,YAQduE,GAAc,SAAC/K,GACxB,OAAOA,EAAMgI,UAAUlE,UAEdkH,GAAqB,SAAChL,GAC/B,OAAOA,EAAMgI,UAAUzB,iBAEd0E,GAAiB,SAACjL,GAC3B,OAAOA,EAAMgI,UAAUnE,aAEdqH,GAAyB,SAAClL,GACnC,OAAOA,EAAMgI,UAAUvB,qBAGd0E,GAAiB,SAACnL,GAC3B,OAAOA,EAAMgI,UAAU9H,QCSrBkL,G,4MAKFlC,cAAgB,SAACmC,GAAwB,IAAD,EACT,EAAK7B,MAAzB1F,EAD6B,EAC7BA,SAAU5D,EADmB,EACnBA,OACjB,EAAKsJ,MAAM8B,aAAaD,EAAYvH,EAAU5D,I,EAElDuK,gBAAkB,SAACvK,GAAwB,IAAD,EACN,EAAKsJ,MAA9B1F,EAD+B,EAC/BA,SAD+B,EACrBD,YACjB,EAAK2F,MAAM8B,aAAa,EAAGxH,EAAW5D,I,uDAV1C,WACIqL,KAAK/B,MAAM8B,aAAaC,KAAK/B,MAAM3F,YAAa0H,KAAK/B,MAAM1F,SAAUyH,KAAK/B,MAAMtJ,U,oBAYpF,WACI,OAAO,qCACFqL,KAAK/B,MAAMhD,WAAa,cAACzJ,EAAA,EAAD,IAAe,KACxC,cAAC,GAAD,CAAOwJ,gBAAiBgF,KAAK/B,MAAMjD,gBAC5BzC,SAAUyH,KAAK/B,MAAM1F,SACrBD,YAAa0H,KAAK/B,MAAM3F,YACxBqF,cAAeqC,KAAKrC,cACpBuB,gBAAiBc,KAAKd,gBACtBnE,MAAOiF,KAAK/B,MAAMlD,MAClBnC,OAAQoH,KAAK/B,MAAMrF,OACnBE,SAAUkH,KAAK/B,MAAMnF,SACrBqC,eAAgB6E,KAAK/B,MAAM9C,eAC3BD,oBAAqB8E,KAAK/B,MAAM/C,6B,GA1BtB6C,IAAMkC,WA4CpBC,eACXC,aAboB,SAAC1L,GACrB,MAAO,CACHsG,MAAO1C,GAAS5D,GAChB8D,SAAUiH,GAAY/K,GACtBuG,gBAAiByE,GAAmBhL,GACpC6D,YAAaoH,GAAejL,GAC5BwG,WAAYsE,GAAc9K,GAC1ByG,oBAAqByE,GAAuBlL,GAC5CE,OAAQiL,GAAenL,MAMvB,CACImE,ObUU,SAAC3E,GACnB,8CAAO,WAAOhB,GAAP,SAAAC,EAAA,6DACHD,EAASqI,GAA0B,EAAMrH,IADtC,SAEkBmE,IAASQ,OAAO3E,GAFlC,OAG6B,GAH7B,OAGUX,KAAKG,YACdR,EA5BsC,CAACJ,KAAM,+BAAgCG,OA4BtDiB,IAE3BhB,EAASqI,GAA0B,EAAOrH,IANvC,2CAAP,uDaXgB6E,SbqBI,SAAC7E,GACrB,8CAAO,WAAOhB,GAAP,SAAAC,EAAA,6DACHD,EAASqI,GAA0B,EAAMrH,IADtC,SAEkBmE,IAASU,SAAS7E,GAFpC,OAG6B,GAH7B,OAGUX,KAAKG,YACdR,EArCP,CAACJ,KAAM,iCAAkCG,OAqCTiB,IAE7BhB,EAASqI,GAA0B,EAAOrH,IANvC,2CAAP,uDatB0BkH,iBAClBG,4BAA2ByE,abHX,SAACK,EAAc7H,EAAkB5D,GACzD,8CAAO,WAAO1B,GAAP,eAAAC,EAAA,6DACHD,EAASoI,GAAiB,IAC1BpI,EAASkI,EAAeiF,IACxBnN,EAASmI,EAAUzG,IAHhB,SAIcyD,IAASC,SAAS+H,EAAM7H,EAAU5D,EAAO6D,KAAM7D,EAAO8D,QAJpE,OAICnF,EAJD,OAKCL,EAASoI,GAAiB,IAC1BpI,EAfyC,CAACJ,KAAM,kCAAmCkI,MAejEzH,EAAKoH,QACvBzH,EAZoD,CAACJ,KAAM,8CAA+CmI,gBAY9E1H,EAAKoK,aAPlC,2CAAP,yDaFWwC,CAMbL,I,2DCpCIQ,GAAiBC,aAAwB,CAC3C5D,KAAM,SADa4D,EAnCoE,SAACrC,GACxF,OACI,uBAAMe,SAAUf,EAAMsC,aAAtB,UACI,8BACI,cAACC,GAAA,EAAD,CAAOC,YAAa,QACb3L,KAAM,QACN4L,UAAWC,KACX5B,SAAU,CAAClN,UAGtB,8BACI,cAAC2O,GAAA,EAAD,CAAOC,YAAa,WACb3L,KAAM,WACNjC,KAAM,WACN6N,UAAWC,KACX5B,SAAU,CAAClN,UAGtB,gCACI,cAAC2O,GAAA,EAAD,CAAO3N,KAAK,WAAWiC,KAAM,cAAe4L,UAAWC,OAD3D,kBAGC1C,EAAMvC,YAAc,qBAAKjK,IAAKwM,EAAMvC,aACpCuC,EAAMvC,YAAc,cAAC8E,GAAA,EAAD,CAAO1L,KAAM,UAAW4L,UAAWC,KAAO5B,SAAU,CAAClN,QAEzEoM,EAAMtK,OAAS,qBAAK4J,UAAWvH,KAAE4K,iBAAlB,SACX3C,EAAMtK,QAEX,8BACI,mDAuCDwM,gBANS,SAAC1L,GACrB,MAAO,CACHiH,WAAYjH,EAAMP,KAAKwH,WACvBD,OAAQhH,EAAMP,KAAKuH,UAGa,CAAClC,MblCpB,SAACC,EAAeC,EAAkBC,GAAlC,IAAuDC,EAAvD,uDAA8E,KAA9E,8CAAqG,WAAO1G,GAAP,iBAAAC,EAAA,sEACjGmG,IAAQE,MAAMC,EAAOC,EAAUC,EAAYC,GADsD,OAErF,KAD7BtG,EADkH,QAEzGC,KAAKG,WAEdR,EAAS6I,MAEwB,KAA7BzI,EAASC,KAAKG,YAEdR,EAAS6G,KAETzH,EAAUgB,EAASC,KAAKa,SAASlC,OAAS,EAAIoB,EAASC,KAAKa,SAAS,GAAK,aAC9ElB,EAASmB,YAAW,QAAS,CAACC,OAAQhC,MAX4E,2CAArG,wDakCN8N,EA3BD,SAAClC,GAIX,OAAIA,EAAMxC,OACC,cAAC,IAAD,CAAU0C,GAAI,aAEd,gCACH,uCAEA,cAACkC,GAAD,CAAgBrB,SATP,SAAC9F,GACd+E,EAAM1E,MAAML,EAASM,MAAON,EAASO,SAAUP,EAASQ,WAAYR,EAASS,UAQrC+B,WAAYuC,EAAMvC,mB,8BCfnDmF,GA3CA,WAAO,IACXA,EAAUC,IAAVD,OACDpF,EAASsF,aAAmC,SAAAtM,GAAK,OAAGA,EAAMP,KAAKuH,UAC/DlC,EAAOwH,aAAyC,SAAAtM,GAAK,OAAGA,EAAMP,KAAKqF,SACnEtF,EAAO8M,aAAyC,SAAAtM,GAAK,OAAGA,EAAMP,KAAKD,UAEnEhB,EAAW+N,cAIjBC,qBAAU,Wd0Bc,IAACjO,EczBjBiB,GACAhB,GdwBiBD,EcxBKiB,EdwBN,uCAAkC,WAAOhB,GAAP,eAAAC,EAAA,sEACrCC,IAAWC,WAAWJ,GADe,OACtDK,EADsD,OAE1DJ,EAZ0D,CAACJ,KAAM,sCAAuCmE,QAAS,CAAC2E,UAY5FtI,EAASC,QAF2B,2CAAlC,0DctBrB,CAACW,IAEJ,IAAMc,EAASgM,aAA6C,SAAAtM,GAAK,uBAAGA,EAAMP,KAAKyH,iBAAd,aAAG,EAAsB7H,OAAOsK,SAC3F8C,OAA2BC,IAAXpM,EAAsBA,EAAS,GAErD,OAAO,cAAC8L,EAAD,CAAQtD,UAAU,SAAlB,SACH,eAAC,KAAD,WACI,cAAC,KAAD,CAAK6D,KAAM,GAAX,SACI,cAAC,IAAD,CAAMC,MAAM,OAAOC,KAAK,aAAaC,oBAAqB,CAAC,KAA3D,SACI,cAAC,IAAKC,KAAN,UAAmB,cAAC,IAAKA,KAAN,UAAmB,cAAC,IAAD,CAASrD,GAAG,cAAZ,yBAAJ,MAAnB,SAGb1C,EACI,qCACE,eAAC,KAAD,CAAK2F,KAAM,EAAX,cAAe,cAAC,IAAD,CAASjD,GAAI,WAAb,SAAyB,cAAC,KAAD,CAAQ1M,IAAKyP,EACf5C,IAAK/E,GAAS,GACdkI,MAAO,CAAEC,gBAAiB,UAAWC,OAAQ,qBAC7CC,KAAM,QACNC,KAAM,cAACC,EAAA,EAAD,WAE5C,eAAC,KAAD,CAAKV,KAAM,EAAX,cAAe,cAAC,KAAD,CAAQ3C,QA3BxB,WACnBxL,EdsDc,uCAAoB,WAAOA,GAAP,SAAAC,EAAA,sEACjBmG,IAAQO,SADS,OAEL,IAFK,OAEzBtG,KAAKG,YACdR,EAAS2I,EAAgB,KAAM,KAAM,MAAM,IAHT,2CAApB,wDc5BqB,qBAAf,UAEF,cAAC,KAAD,CAAKwF,KAAM,EAAX,SACE,cAAC,KAAD,UAAQ,cAAC,IAAD,CAASjD,GAAI,SAAb,8BC3B9B4D,GAAmBhE,IAAMiE,MAAK,kBAAM,8DACpCC,GAAmBlE,IAAMiE,MAAK,kBAAM,iCACpCE,GAAWnE,IAAMiE,MAAK,kBAAM,uDAG3BG,GAAWC,IAAXD,QACAE,GAAkBvB,IAAlBuB,QAASC,GAASxB,IAATwB,MAaVC,G,4MACFC,wBAA0B,SAACC,GACvBC,MAAM,sBACNhP,QAAQC,MAAM8O,I,uDAGlB,WACIzC,KAAK/B,MAAM0E,gBACXzF,OAAO3G,iBAAiB,qBAAsByJ,KAAKwC,2B,kCAIvD,WACItF,OAAO9G,oBAAoB,qBAAsB4J,KAAKwC,2B,oBAG1D,WACI,OAAKxC,KAAK/B,MAAMhC,YAIZ,eAAC,IAAD,WACI,cAAC,GAAD,IACA,eAAC,IAAD,WACI,cAACqG,GAAD,CAAOM,MAAO,IAAKrF,UAAU,yBAA7B,SACI,eAAC,IAAD,CACI+D,KAAK,SAELG,MAAO,CAACoB,OAAQ,OAAQC,YAAa,GAHzC,UAKI,eAACX,GAAD,CAAoBN,KAAM,cAACC,EAAA,EAAD,IAAiBiB,MAAM,aAAjD,UACI,cAAC,IAAKvB,KAAN,UAAmB,cAAC,IAAD,CAASrD,GAAG,WAAZ,uBAAJ,KACf,eAAC,IAAKqD,KAAN,eAAoB,cAAC,IAAD,CAASrD,GAAG,WAAZ,uBAAL,OAFN,QAIb,cAACgE,GAAD,CAAoBN,KAAM,cAACmB,EAAA,EAAD,IAAmBD,MAAM,aAAnD,SACI,cAAC,IAAKvB,KAAN,UAAmB,cAAC,IAAD,CAASrD,GAAG,cAAZ,yBAAJ,MADN,QAGb,cAACgE,GAAD,CAAoBN,KAAM,cAACoB,EAAA,EAAD,IAAyBF,MAAM,OAAzD,SACI,cAAC,IAAKvB,KAAN,UAAmB,cAAC,IAAD,CAASrD,GAAG,QAAZ,mBAAJ,MADN,aAKrB,cAAC,IAAD,CAAQsD,MAAO,CAACyB,QAAS,eAAzB,SACI,cAACb,GAAD,CACI9E,UAAU,yBACVkE,MAAO,CACHyB,QAAS,GACTC,OAAQ,EACRC,UAAW,KALnB,SAQI,eAAC,IAAD,WACI,cAAC,IAAD,CAAOC,KAAM,QAAS3C,UAAWvD,KACjC,cAAC,IAAD,CAAOkG,KAAM,SAAU3C,UAAWtD,KAClC,cAAC,IAAD,CAAOiG,KAAM,YAAa3C,UAAWrD,KACrC,cAAC,IAAD,CAAOgG,KAAM,WAAYC,OAAQ,kBAAM,cAAC,GAAD,OACvC,cAAC,IAAD,CAAOD,KAAM,cAAeC,OAAQ,kBAAM,cAAC,GAAD,OAC1C,eAAC,WAAD,CAAUC,SAAU,cAAC/R,EAAA,EAAD,IAApB,UACI,cAAC,IAAD,CAAO6R,KAAK,IAAIG,OAAK,EAArB,SAAsB,cAAC,IAAD,CAAUrF,GAAG,eACnC,cAAC,IAAD,CAAOkF,KAAM,SAAUC,OAAQ,kBAAM,cAAC,GAAD,OACrC,cAAC,IAAD,CAAOD,KAAM,QAASC,OAAQ,kBAAM,cAACpB,GAAD,OACpC,cAAC,IAAD,CAAOmB,KAAM,oBAAqBC,OAAQ,kBAAM,cAACvB,GAAD,OAChD,cAAC,IAAD,CAAOsB,KAAM,WAAYC,OAAQ,kBAAM,cAACrB,GAAD,uBA5CxD,cAACzQ,EAAA,EAAD,Q,GAlBDuM,IAAMkC,WA8EpBwD,GAAevD,YACfC,aALoB,SAAC1L,GAAD,MAA0B,CAC9CwH,YAAaxH,EAAMmI,IAAIX,eAIE,CAAC0G,cd7FD,kBAAoB,SAAC1P,GAChCA,EAAS6I,KAEfnD,MAAK,WACL1F,EAN6B,CAACJ,KAAM,mDcgG5C6Q,IAFexD,CAGjBqC,IAEWoB,GAAe,WACxB,OAAO,cAAC,IAAD,UACH,cAAC,IAAD,CAAU7G,MAAOA,EAAjB,SACI,cAAC2G,GAAD,SCjGRG,IAASN,OACL,cAAC,GAAD,IAAkBO,SAASC,eAAe,SAUlD/J,K,uJCnCMgK,EAAe,SAAC,GAAsC,EAArCC,MAAsC,IAA/BC,EAA8B,EAA9BA,KAAehG,GAAe,EAAzBiG,MAAyB,yCAElDC,EAAWF,EAAKG,SAAWH,EAAKtQ,MACtC,OACI,sBAAK4J,UAAWvH,IAAEqO,YAAc,KAAOF,EAAUnO,IAAErC,MAAQ,IAA3D,UACI,8BACKsK,EAAMqG,WAEVH,GAAY,+BAAOF,EAAKtQ,YAKxB4Q,EAAW,SAACtG,GAAe,IAC7B+F,EAAmC/F,EAAnC+F,MAAsBQ,GAAavG,EAA5BgG,KAA4BhG,EAAvBiG,MADgB,YACOjG,EADP,2BAEnC,OAAO,cAAC8F,EAAD,2BAAiB9F,GAAjB,aAAwB,oDAAc+F,GAAUQ,QAG9C7D,EAAQ,SAAC1C,GAAe,IAC1B+F,EAAmC/F,EAAnC+F,MAAsBQ,GAAavG,EAA5BgG,KAA4BhG,EAAvBiG,MADa,YACUjG,EADV,2BAEhC,OAAO,cAAC8F,EAAD,2BAAiB9F,GAAjB,aAAwB,iDAAW+F,GAAUQ,S,mBCtBxD7S,EAAOC,QAAU,CAAC,YAAc,kCAAkC,MAAQ,4BAA4B,iBAAmB,0C","file":"static/js/main.7ece96da.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/preloader.d71f3ece.svg\";","import preloader from \"../../../Assets/Images/preloader.svg\";\r\nimport React from \"react\";\r\n\r\nexport const Preloader = () => {\r\n    return <img src={preloader} />\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__3-x8m\",\"search\":\"Users_search__zAUJG\",\"form\":\"Users_form__1wSPt\"};","\r\nexport const required = (value: any) => {\r\n    if (value) return undefined\r\n    return 'Field is required';\r\n\r\n}\r\nexport const maxLengthCreator = (maxLength: any) => (value: any) => {\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined;\r\n}\r\n\r\n\r\n\r\n\r\n","import {Dispatch} from \"redux\";\r\nimport {profileAPI} from \"../api/api\";\r\nimport {AppActionsType, AppThunkType} from \"./redux-store\";\r\nimport {ProfilePropsType} from \"../components/Profile/ProfileContainer\";\r\nimport {PostType, ProfileType} from \"../types/types\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\ntype profileReducerType = typeof initialState;\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {\r\n            id: 1,\r\n            message: 'Hi, how are you',\r\n            likesCount: 5,\r\n            image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTQblpU20ze2Vsusvi7MmRwzZYanB0cVwNJHg&usqp=CAU'\r\n        },\r\n        {\r\n            id: 2,\r\n            message: 'It\\'s my first post',\r\n            likesCount: 20,\r\n            image: 'https://miro.medium.com/max/1200/1*mk1-6aYaf_Bes1E3Imhc0A.jpeg'\r\n        }\r\n    ] as Array<PostType>,\r\n    profile: null as ProfileType | null,\r\n    status: \"\",\r\n    newPostText: \"\"\r\n};\r\n\r\nconst profileReducer = (state = initialState, action: AppActionsType):profileReducerType => {\r\n\r\n    switch (action.type) {\r\n        case 'SAMURAI-NETWORK/PROFILE/ADD_POST':\r\n            return {...state,\r\n                posts: [...state.posts, {\r\n                    id: 5,\r\n                    message: action.newPostBody,\r\n                    likesCount: 0,\r\n                    image: 'https://miro.medium.com/max/1200/1*mk1-6aYaf_Bes1E3Imhc0A.jpeg'\r\n                }],\r\n                newPostText:  ''\r\n            }\r\n\r\n        case 'SAMURAI-NETWORK/PROFILE/SET_USER_PROFILE': {\r\n            return {...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case 'SAMURAI-NETWORK/PROFILE/SET_STATUS': {\r\n            return {...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case 'SAMURAI-NETWORK/PROFILE/DELETE_POST': {\r\n            return {...state,\r\n                posts: state.posts.filter(p=> p.id !== action.id)\r\n            }\r\n        }\r\n        case \"SAMURAI-NETWORK/PROFILE/SAVE_PHOTO\": {\r\n            //@ts-ignore\r\n            return {...state, profile: {...state.profile, photos: action.photos}}\r\n        }\r\n\r\n    }\r\n    return state;\r\n}\r\n\r\nexport const addPostActionCreator = (newPostBody: string) => ({type: 'SAMURAI-NETWORK/PROFILE/ADD_POST', newPostBody} as const)\r\nexport const setStatus = (status: string) => ({type: 'SAMURAI-NETWORK/PROFILE/SET_STATUS', status } as const)\r\nexport const setUserProfile = (profile: ProfilePropsType) => ({type: 'SAMURAI-NETWORK/PROFILE/SET_USER_PROFILE', profile } as const)\r\nexport const deletePost = (id: number)=> ({type: 'SAMURAI-NETWORK/PROFILE/DELETE_POST', id} as const)\r\nexport const savePhotoSuccess = (photos: any) => ({type: 'SAMURAI-NETWORK/PROFILE/SAVE_PHOTO', photos} as const)\r\n\r\nexport const getUserProfile = (userID: string) => async (dispatch: Dispatch) => {\r\n    let response = await profileAPI.getProfile(userID)\r\n        dispatch(setUserProfile(response.data))\r\n}\r\nexport const getStatus = (userID: string):AppThunkType => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userID)\r\n        dispatch(setStatus(response.data))\r\n }\r\n\r\nexport const updateStatus = (status: string):AppThunkType => async (dispatch) => {\r\n\r\n            try {\r\n                let response = await profileAPI.updateStatus(status)\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(setStatus(status))\r\n                }\r\n            } catch (error) {\r\n              console.error(error)\r\n            }\r\n}\r\n\r\nexport const savePhoto = (file: any):AppThunkType => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n}\r\n\r\nexport const saveProfile = (profile: any):AppThunkType => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId\r\n    let response = await profileAPI.saveProfile(profile)\r\n    if (response.data.resultCode === 0) {\r\n        userId && dispatch(getUserProfile(userId))\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"some error\"\r\n        dispatch(stopSubmit(\"profileData\", {_error: message}))\r\n        return Promise.reject(message);\r\n    }\r\n}\r\n\r\nexport default profileReducer;","import {AppActionsType} from \"./redux-store\";\r\n\r\ntype DialogType = {\r\n    id: number,\r\n    name: string,\r\n    avatar: string\r\n}\r\ntype MessageType = {\r\n    id: number,\r\n    message: string,\r\n    avatar: string\r\n}\r\nexport type DialogsReducerType = typeof initialState;\r\n\r\nconst initialState = {\r\n    dialogs: [\r\n        {\r\n            id: 1,\r\n            name: 'Dimych',\r\n            avatar: 'data:image/png;base64,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'\r\n        },\r\n        {\r\n            id: 2,\r\n            name: 'Andrey',\r\n            avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTPQzg2-modiBeSBIckt_NcpipPPGQfZA_dbQ&usqp=CAU'\r\n        },\r\n        {\r\n            id: 3,\r\n            name: 'Sasha',\r\n            avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSY9CFeq9b0Heyu5smWdzciVy8mSgdQptD0NQ&usqp=CAU'\r\n        },\r\n        {\r\n            id: 4,\r\n            name: 'Sveta',\r\n            avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRbUIdpnxouKrc-0MoizGj7KvpP8CUZNpuORA&usqp=CAU'\r\n        },\r\n        {\r\n            id: 5,\r\n            name: 'Valera',\r\n            avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRa9UI1y4Shr253ibETjPCOWNBWWpKgQsVKaw&usqp=CAU'\r\n        },\r\n        {\r\n            id: 6,\r\n            name: 'Victor',\r\n            avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTrrX_9iANDm2mE-gZvxVo7xN0-hqwhf-yJmw&usqp=CAU'\r\n        }\r\n    ] as Array<DialogType>,\r\n    messages: [\r\n        {\r\n            id: 1,\r\n            message: 'Hi',\r\n            avatar: 'data:image/png;base64,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'\r\n        },\r\n        {\r\n            id: 2,\r\n            message: 'How is you it-kamasutra?',\r\n            avatar: 'https://miro.medium.com/max/1200/1*mk1-6aYaf_Bes1E3Imhc0A.jpeg'\r\n        },\r\n        {\r\n            id: 3,\r\n            message: 'Yo',\r\n            avatar: 'data:image/png;base64,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'\r\n        },\r\n        {id: 4, message: 'Yo', avatar: 'https://miro.medium.com/max/1200/1*mk1-6aYaf_Bes1E3Imhc0A.jpeg'},\r\n        {\r\n            id: 5,\r\n            message: 'Yo',\r\n            avatar: 'data:image/png;base64,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'\r\n        },\r\n    ] as Array<MessageType>,\r\n}\r\nconst dialogsReducer = (state = initialState, action: AppActionsType): DialogsReducerType => {\r\n\r\n    switch (action.type) {\r\n        case 'SAMURAI-NETWORK/DIALOGS/SEND-MESSAGE':\r\n            const body = action.newMessageBody;\r\n            return {...state,\r\n                messages: [...state.messages, {\r\n                    id: 6,\r\n                    message: body,\r\n                    avatar: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAA8FBMVEXMzP/bqJclGxv////Pz/8tHBzhrZt8X1YZERPLzv8SAAANAACzst7P0P/fsqOgmrsAAADcppJgSUPTu9E8LSrOyPbFl4jYsLAFAAcNCAywh3ncpY2qgnXbp5MgFxjbqZnWtLszJiQmFRYgFRKencPSv9sVAAnPxev37OlybogcDwaXc2jUucuMa2HRoJC5joAgBgbZrKTx3tjAv+9fWm81LjQqICKKiKhjX3SAfpxsaIBTT19CPEdINjJiS0Soh4S9mZiAW1A7IBuonp3Y2dpdVFTHyMpmRz+5uryLhYVQNS+Efn7kv7P05eDr0cjnyL3kT6S4AAAGq0lEQVR4nO3d/1/aOBgH8BZKoK24FAXBQlE8UUFwyvQ2N7kv7na33eb+///mkvJdE76YJ7bxns9rP+TFapc3KU+btEzLeuVxku6A9qDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KBw3d0Ui+zPqGHFDXfSsDZsDJzFV5S7BrETqzh459PrN6xTg4+U3vxaHL2SmTY+FC1n8N6nR7xhjRqOY916tHPmsMaZR70zi7/iU/89azgfOtS/hegeiNDZ8juZzBG9LY4a/rvilscamVnjY3HQ4Q3vozM4ihufrMHNpHHt8cb1YHDNX+ncDAafvLgB0TmAfVjF66MMT8f3M5LGkahxtKrRuVU/UCGEzhbNaAoF6J36LiznF0+X0N9S7iAKUfj/EBZfv/ANClGIQhSiEIUoROGrEkYFkESpFRZKeZDcRSkVRncEKKkVDokNErIbpVRYQiEKUYhCFKIQhShEIQpRiEIUohCFKEQhClGYLuFhSoW0CyXMV1MpBAPOiOkSAgKnxFQJQYETYjqEbiwswAI5scCFyg+YKgvd8s7eb34mU63AAm2yX2PC3w+O3WSF7k4YkHpNl7BaaQTNEyWjotA9D1lfdApZKzxJUHgS2vqFdlNlENWE7kHjJYTBcXLChi0UkmfW1fmfmxM2DhQGUfEoDYVCcpPvb44k5KKUn/3UnNDeS5uwQgu0tL+Zkdjdw2rhxgwh6bFzdVTN9PrrGgmp5Ks1Np+gc3tJs3A0u4sKdHixzkASUr+jhfhKu9abbp9moT08pLX4uaYC3e3aK4yk34v48LF3pErvDBES0t/v3VWrjBnVCsuqDq8ubPiiQo1Gw+7FfDFNtTDuOvtsdePBrEmrDq8ubAM2dPk6exsWt0mXsBpFVHDGJ/FglmqURr0nByuvLpTSzGjonr4DZH+216SFdj1zeBhJrmnGg5mhpYWqQ+z6rnDoZtmf7TVxYcyQ9HM6mPX8sNufvFDpDXvioXv05tgpEa4T3t2LMbFSWYF7FDOEKkFhgkL2+assP+WzDVZfpadX2Pjjrdf2hvLrU1L/02/7u/UVxPQK7z//1crlWm3Z7Jh0v3xhG+T8/HJicsLRDFgW8nc2+9nL8Ui22P8nm71/y4lLRzHBGbC7t4zYp1+yX3n/c23xYir5dp8db7G7TJjgKsZoJUoSUm97Xtz9XEv8iDvxva//jgbZ74s2GCfBlajRaqJM2Gvlxml9Ewr7Xu7t6C3IST+qdsKriZwYyIT1wlQoGUNvsoF8DBuBneiKMF/VP9+7FHeu70/63xYXElKajHLrTvI5vDxQ+QyCCJnRPRYPI8m3x/0/lPS/QsdCeiHeICwr3rWAubvm7kgOVFKKia2c7BAkdcpHsSW9MxeWlXunVcjO6Lu+38pL/pZvUBm2PZ9NHSV/n3ohX3dZcdXJrlyXbJB+oWpQiEIUohCFKEQhClGIQhSiEIUoROELCi3JWpttb2+QVAtPJMLt7AYR7iNQXkwE+t+uJUv7wQbAU6FQ5bbaOCDC0YO0AuHp+sIrkTBUXfC2oMawLB7E4GF9ofBzeKk+hEBC91hynKodpA31OgP2/+q75+JCsfYgioZQ7a7aJEBC2d3gdT+Jok9huANwjEL+9oem8DBtPvsYDVRu3s8FTlgWnxTXIYqADYgqwwMndGX39FceqMIThQ3VLzihrNqsLDffhWdCkCrDAyiUPnsSNH/IfQ/CtyVU/cbaLJBCy5Xc0LeD7SuJzxafZYCqDA+o0CpLHyAKgu+PkacP24F4e7AqwwMrlFabEdL+/vPh6gfL1cPP7SCQziqbkH2CFfIvXMqJfHSCcZZtBDApnAuwkE0zlOf7gFWGB1rIqs3S5xVXJzgHBer4nV1qwAbApHchGoTLqs3qgFYZHg1C6WRxnQSgVYZHg1Cl2oRqzyGKokP4/GoTAlcZHi1C2WRxVcCrDI8moWRpakUgL9am0SR8VrUBWXh6Ek1C6WRxSeCmhAvRJVzxRQUREGbh6Um0CTetNpBTwoVoFEqWpsQBnRIuRKNw6WTxccAv1qbRKNygoDaaWspoHJ1CNorNtY7UcE9jJ7QKWeRfqZkmaMJOeR9Ft9C1zi/DYEnCPa0+/UL+lZryyfGOJMcnll7fSwjjuJK8wD/9QsIEg0Lzg0Lzg0Lzg0Lzg0Lzg0Lzg0Lzg0Lzg0Lzg0Lzg0Lzg0Lzg0Lzg0Lzg0Lzg0Lzg0Lzg0Lzg0Lzg0Lz41jOK0/xP4g72/OzgnPEAAAAAElFTkSuQmCC'\r\n                }],\r\n            };\r\n        }\r\n    return state;\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody: string)  => ({type: 'SAMURAI-NETWORK/DIALOGS/SEND-MESSAGE', newMessageBody} as const)\r\n\r\nexport default dialogsReducer","export default \"data:image/png;base64,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\"","import {StatusType} from \"../Redux/chat-reducer\";\r\n\r\nconst subscribers = {\r\n    \"messages-received\": [] as Array<MessagesReceivedSubscriberType>,\r\n    \"status-changed\": [] as Array<StatusChangedSubscriberType>\r\n}\r\n\r\nlet ws: WebSocket | null = null\r\ntype EventsNameType = \"messages-received\" | \"status-changed\"\r\n\r\nconst closeHandler = () => {\r\n    notifySubscribersAboutStatus('pending')\r\n    setTimeout(createChannel, 3000)\r\n}\r\nconst messageHandler = (e:MessageEvent)=> {\r\n    let newMessages = JSON.parse(e.data)\r\n    subscribers[\"messages-received\"].forEach(s=>s(newMessages))\r\n}\r\nconst openHandler = ()=> {\r\n    notifySubscribersAboutStatus('ready')\r\n}\r\nconst errorHandler = ()=> {\r\n    notifySubscribersAboutStatus('error')\r\n}\r\nconst cleanUp = () => {\r\n    ws?.removeEventListener('close', closeHandler)\r\n    ws?.removeEventListener('message', messageHandler)\r\n    ws?.removeEventListener('open', openHandler)\r\n    ws?.removeEventListener('error', errorHandler)\r\n}\r\n\r\nconst notifySubscribersAboutStatus = (status: StatusType) => {\r\n    subscribers[\"status-changed\"].forEach(s=>s(status))\r\n}\r\n\r\nfunction createChannel() {\r\n    cleanUp()\r\n    ws?.close()\r\n    ws = new WebSocket(\"wss://social-network.samuraijs.com/handlers/ChatHandler.ashx\")\r\n    notifySubscribersAboutStatus('pending')\r\n    ws.addEventListener('close', closeHandler)\r\n    ws.addEventListener('message', messageHandler)\r\n    ws.addEventListener('open', openHandler)\r\n    ws.addEventListener('error', errorHandler)\r\n}\r\n\r\nexport const chatAPI = {\r\n    start(){\r\n        createChannel()\r\n    },\r\n    stop(){\r\n        subscribers[\"messages-received\"]=[]\r\n        subscribers[\"status-changed\"]=[]\r\n        cleanUp()\r\n        ws?.close()\r\n    },\r\n    subscribe(eventName: EventsNameType, callback: MessagesReceivedSubscriberType|StatusChangedSubscriberType){\r\n        // @ts-ignore\r\n        subscribers[eventName].push(callback)\r\n        return ()=>{\r\n            // @ts-ignore\r\n            subscribers[eventName] = subscribers[eventName].filter(s=> s !== callback)\r\n        }\r\n    },\r\n    unsubscribe(eventName: EventsNameType, callback: MessagesReceivedSubscriberType|StatusChangedSubscriberType) {\r\n        // @ts-ignore\r\n        subscribers[eventName] = subscribers[eventName].filter(s=> s !== callback)\r\n    },\r\n\r\n    sendMessage(message: string){\r\n        ws?.send(message)\r\n    }\r\n}\r\n\r\ntype MessagesReceivedSubscriberType = (messages: ChatMessageApiType[])=> void\r\ntype StatusChangedSubscriberType = (status: StatusType) => void\r\nexport type ChatMessageApiType = {\r\n    message: string\r\n    photo: string\r\n    userId: number\r\n    userName: string\r\n\r\n}","import {Dispatch} from \"redux\";\r\nimport {AppActionsType, AppThunkType} from \"./redux-store\";\r\nimport {chatAPI, ChatMessageApiType} from \"../api/chat-api\";\r\nimport {v1} from \"uuid\"\r\n\r\nexport type ChatReducerType = typeof initialState;\r\n\r\nexport type StatusType = 'pending'| 'ready' | 'error'\r\n\r\nexport type ChatMessageType = ChatMessageApiType & {id: string}\r\n\r\nlet initialState = {\r\n    messages: [] as ChatMessageType[],\r\n    status: 'pending' as StatusType\r\n};\r\n\r\nconst chatReducer = (state = initialState, action: AppActionsType):ChatReducerType  => {\r\n\r\n    switch (action.type) {\r\n        case 'SAMURAI-NETWORK/CHAT/MESSAGES-RECEIVED':\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, ...action.payload.map(m=>({...m, id: v1()}))].filter((m ,index, array)=> index >= (array.length - 100))\r\n            }\r\n            case 'SAMURAI-NETWORK/CHAT/STATUS-CHANGED':\r\n                return {\r\n                    ...state,\r\n                    status: action.payload\r\n                }\r\n        case 'SAMURAI-NETWORK/CHAT/MESSAGES-DELETED':\r\n            return { ...state,\r\n            messages: []\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const messagesReceived = (messages: ChatMessageApiType[]) => ({type: 'SAMURAI-NETWORK/CHAT/MESSAGES-RECEIVED', payload: messages}  as const)\r\nexport const statusChanged = (status: StatusType) => ({type: 'SAMURAI-NETWORK/CHAT/STATUS-CHANGED', payload: status}  as const)\r\nexport const messagesDeleted = () => ({type: 'SAMURAI-NETWORK/CHAT/MESSAGES-DELETED'}  as const)\r\n\r\nlet _newMessageHandler: ((messages: ChatMessageApiType[])=> void) | null = null\r\nconst newMessageHandlerCreator = (dispatch: Dispatch) => {\r\n    if (_newMessageHandler === null) {\r\n        _newMessageHandler = (messages: ChatMessageApiType[]) => {\r\n            dispatch(messagesReceived(messages))\r\n        }\r\n\r\n    }\r\n    return _newMessageHandler\r\n}\r\nlet _statusChangedHandler: ((status: StatusType)=> void) | null = null\r\nconst statusChangedHandlerCreator = (dispatch: Dispatch) => {\r\n    if (_statusChangedHandler === null) {\r\n        _statusChangedHandler = (status: StatusType) => {\r\n            dispatch(statusChanged(status))\r\n        }\r\n    }\r\n    return _statusChangedHandler\r\n}\r\n\r\nexport const startMessagesListening = (): AppThunkType => async (dispatch) => {\r\n    chatAPI.start()\r\n    chatAPI.subscribe(\"messages-received\", newMessageHandlerCreator(dispatch))\r\n    chatAPI.subscribe(\"status-changed\", statusChangedHandlerCreator(dispatch))\r\n\r\n}\r\nexport const stopMessagesListening = (): AppThunkType => async (dispatch) => {\r\n    chatAPI.unsubscribe(\"messages-received\", newMessageHandlerCreator(dispatch))\r\n    chatAPI.unsubscribe(\"status-changed\", statusChangedHandlerCreator(dispatch))\r\n    chatAPI.stop()\r\n}\r\nexport const sendMessage = (message: string): AppThunkType => async (dispatch) => {\r\n    chatAPI.sendMessage(message)\r\n}\r\n\r\n\r\nexport default chatReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsContainer\":\"Friends_friendsContainer__PMuxk\"};","import * as axios from \"axios\";\r\n\r\nconst instance = axios.default.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": \"1860b8e8-5b0f-42e3-b73c-7abd28b78fff\"\r\n    }\r\n})\r\n\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10, term= '', friend: null | boolean = null) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}&term=${term}`+ (friend === null ? \"\" : `&friend=${friend}`))\r\n            .then(response => response.data);\r\n    },\r\n    follow(userID: number) {\r\n        return instance.post(`follow/${userID}`)\r\n    },\r\n    unfollow(userID: number) {\r\n        return instance.delete(`follow/${userID}`)\r\n    }\r\n\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: string) {\r\n        return instance.get(`profile/` + userId);\r\n    },\r\n    getStatus(userId: string) {\r\n        return instance.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put(`profile/status`, {status: status});\r\n    },\r\n    savePhoto(photoFile: any){\r\n        const formData = new FormData()\r\n        formData.append(\"image\", photoFile)\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                \"Content-Type\": \"multipart/form-data\"\r\n            }\r\n        });\r\n    },\r\n    saveProfile(profile: any){\r\n        return instance.put(`profile`, profile);\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n   login (email: string, password: string, rememberMe = false, captcha: string|null) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha})\r\n   },\r\n    logout () {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`)\r\n    }\r\n}\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {AppActionsType} from \"./redux-store\";\r\n\r\n\r\ntype FriendType = {\r\n    id: number,\r\n    name: string,\r\n    avatar: string\r\n}\r\ntype SideBarReducerType = typeof initialState\r\nconst initialState =  {\r\n    friends: [\r\n        {\r\n            id: 1,\r\n            name: 'Dimych',\r\n            avatar: 'data:image/png;base64,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'\r\n        },\r\n        {\r\n            id: 2,\r\n            name: 'Andrey',\r\n            avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTPQzg2-modiBeSBIckt_NcpipPPGQfZA_dbQ&usqp=CAU'\r\n        },\r\n        {\r\n            id: 3,\r\n            name: 'Sasha',\r\n            avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSY9CFeq9b0Heyu5smWdzciVy8mSgdQptD0NQ&usqp=CAU'\r\n        },\r\n    ] as Array<FriendType>\r\n}\r\n\r\nconst sidebarReducer = (state= initialState, action: AppActionsType):SideBarReducerType  => {\r\n\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer","export const  updateObjectArray = (items: Array<any>, itemID: any, objPropName: any, newObjProps: any ) => {\r\n    return items.map(u => u[objPropName] === itemID ? {...u, ...newObjProps} : u)\r\n}","import {usersAPI} from \"../api/api\";\r\nimport {AppActionsType, AppThunkType} from \"./redux-store\";\r\nimport {updateObjectArray} from \"../utils/object-helpers\";\r\n\r\nexport type UserType = {\r\n    id: number,\r\n    photos: {\r\n        small: string,\r\n        large: string\r\n    }\r\n    followed: boolean\r\n    name: string,\r\n    status: string,\r\n}\r\n\r\ntype UsersReducerType = typeof initialState\r\n\r\nlet initialState = {\r\n    users: [] as Array<UserType>,\r\n    pageSize: 100,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [] as number[],\r\n    filter: {\r\n        term: '',\r\n        friend: null as null | boolean\r\n    }\r\n};\r\nexport type FilterType = typeof initialState.filter\r\n\r\nconst usersReducer = (state = initialState, action: AppActionsType): UsersReducerType => {\r\n\r\n    switch (action.type) {\r\n        case 'SAMURAI-NETWORK/USERS/FOLLOW':\r\n            return {\r\n                ...state,\r\n                users: updateObjectArray(state.users, action.userID, 'id', {followed: true})\r\n            }\r\n        case 'SAMURAI-NETWORK/USERS/UNFOLLOW':\r\n            return {\r\n                ...state,\r\n                users: updateObjectArray(state.users, action.userID, 'id', {followed: false})\r\n            }\r\n        case 'SAMURAI-NETWORK/USERS/SET_USERS': {\r\n            return { ...state, users: [...action.users]}\r\n        }\r\n        case 'SAMURAI-NETWORK/USERS/SET_CURRENT_PAGE': {\r\n            return { ...state,  currentPage: action.currentPage }\r\n        }\r\n        case 'SAMURAI-NETWORK/USERS/SET_FILTER': {\r\n            return {...state, filter: action.payload}\r\n        }\r\n        case 'SAMURAI-NETWORK/USERS/SET_TOTAL_USERS_COUNT': {\r\n            return { ...state,  totalUsersCount: action.totalUsersCount }\r\n        }\r\n        case 'SAMURAI-NETWORK/USERS/TOGGLE_IS_FETCHING' : {\r\n            return { ...state,  isFetching: action.isFetching }\r\n        }\r\n        case 'SAMURAI-NETWORK/USERS/TOGGLE_IS_FOLLOWING_PROGRESS' : {\r\n            return {...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userID: number) => ({type: 'SAMURAI-NETWORK/USERS/FOLLOW', userID: userID} as const)\r\nexport const unfollowSuccess = (userID: number) =>\r\n    ({type: 'SAMURAI-NETWORK/USERS/UNFOLLOW', userID: userID} as const)\r\nexport const setUsers = (users: Array<UserType>) => ({type: 'SAMURAI-NETWORK/USERS/SET_USERS', users: users} as const)\r\nexport const setCurrentPage = (currentPage: number) => ({type: 'SAMURAI-NETWORK/USERS/SET_CURRENT_PAGE', currentPage: currentPage} as const)\r\nexport const setFilter = (filter: FilterType) => ({type: 'SAMURAI-NETWORK/USERS/SET_FILTER', payload: filter} as const)\r\n\r\nexport const setTotalUsersCount = (totalUsersCount: number) => ({type: 'SAMURAI-NETWORK/USERS/SET_TOTAL_USERS_COUNT', totalUsersCount: totalUsersCount} as const)\r\nexport const toggleIsFetching = (isFetching: boolean) => ({type: 'SAMURAI-NETWORK/USERS/TOGGLE_IS_FETCHING', isFetching} as const)\r\nexport const toggleISFollowingProgress = (isFetching: boolean, userId: number) => ({type: 'SAMURAI-NETWORK/USERS/TOGGLE_IS_FOLLOWING_PROGRESS', isFetching, userId} as const)\r\n\r\nexport const requestUsers = (page: number, pageSize: number, filter: FilterType):AppThunkType => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n        dispatch(setCurrentPage(page))\r\n        dispatch(setFilter(filter))\r\n        let data = await usersAPI.getUsers(page, pageSize, filter.term, filter.friend)\r\n            dispatch(toggleIsFetching(false))\r\n            dispatch(setUsers(data.items))\r\n            dispatch(setTotalUsersCount(data.totalCount))\r\n    }\r\n}\r\n\r\nexport const follow = (userId: number): AppThunkType => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleISFollowingProgress(true, userId))\r\n        let response = await usersAPI.follow(userId)\r\n        if (response.data.resultCode == 0) {\r\n            dispatch(followSuccess(userId))\r\n        }\r\n        dispatch(toggleISFollowingProgress(false, userId))\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId: number): AppThunkType => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleISFollowingProgress(true, userId))\r\n        let response = await usersAPI.unfollow(userId)\r\n        if (response.data.resultCode == 0) {\r\n            dispatch(unfollowSuccess(userId));\r\n        }\r\n        dispatch(toggleISFollowingProgress(false, userId))\r\n    }\r\n}\r\nexport default usersReducer;","import {Dispatch} from \"redux\";\r\nimport {authAPI, profileAPI, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {AppActionsType, AppThunkType} from \"./redux-store\";\r\nimport {ProfileType} from \"../types/types\";\r\nimport {ProfilePropsType} from \"../components/Profile/ProfileContainer\";\r\n\r\nexport type AuthReducerType = typeof initialState;\r\n\r\nlet initialState = {\r\n    userId: null as string|null,\r\n    email: null as string|null,\r\n    login: null as string|null,\r\n    isAuth: false,\r\n    captchaUrl: null as string|null,\r\n    myProfile: null as ProfileType | null\r\n};\r\n\r\nconst authReducer = (state = initialState, action: AppActionsType):AuthReducerType  => {\r\n\r\n    switch (action.type) {\r\n        case 'SAMURAI-NETWORK/AUTH/GET-CAPTCHA-URL-SUCCESS':\r\n        case 'SAMURAI-NETWORK/AUTH/SET_USER_DATE':\r\n        case \"SAMURAI-NETWORK/AUTH/SET_MY_PROFILE\":\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId: string|null, email: string|null, login: string|null, isAuth: boolean) => ({type: 'SAMURAI-NETWORK/AUTH/SET_USER_DATE', payload: {userId: userId, email, login, isAuth} } as const)\r\nexport const getCaptchaUrlSuccess = (captchaUrl: string) => ({type: 'SAMURAI-NETWORK/AUTH/GET-CAPTCHA-URL-SUCCESS', payload: {captchaUrl}} as const)\r\nexport const setMyProfile = (myProfile: ProfilePropsType) => ({type: 'SAMURAI-NETWORK/AUTH/SET_MY_PROFILE', payload: {myProfile} } as const)\r\n\r\nexport const getAuthUserData = (): AppThunkType => async (dispatch) => {\r\n    let response = await authAPI.me()\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const getMyProfile = (userID: string): AppThunkType => async (dispatch: Dispatch) => {\r\n    let response = await profileAPI.getProfile(userID)\r\n    dispatch(setMyProfile(response.data))\r\n}\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: string|null = null): AppThunkType => async (dispatch: Dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha)\r\n    if (response.data.resultCode === 0) {\r\n        //@ts-ignore\r\n        dispatch(getAuthUserData())\r\n    } else  {\r\n        if (response.data.resultCode === 10){\r\n            //@ts-ignore\r\n            dispatch(getCaptchaUrl())\r\n        }\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"some error\"\r\n        dispatch(stopSubmit(\"login\", {_error: message}))\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = (): AppThunkType => async (dispatch: Dispatch) => {\r\n    const response = await securityAPI.getCaptchaUrl()\r\n    const captchaUrl = response.data.url\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n}\r\n\r\nexport const logout = (): AppThunkType => async (dispatch) => {\r\n    let response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\nexport default authReducer;","import {AppActionsType, AppThunkType} from \"./redux-store\";\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n    globalError: null as string | null\r\n};\r\ntype appReducerStateType = typeof initialState\r\n\r\nconst appReducer = (state = initialState, action: AppActionsType): appReducerStateType  => {\r\n\r\n    switch (action.type) {\r\n        case \"SAMURAI-NETWORK/APP/INITIALIZED_SUCCESS\":\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: \"SAMURAI-NETWORK/APP/INITIALIZED_SUCCESS\"} as const)\r\n\r\nexport const initializeApp = (): AppThunkType => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData())\r\n    //@ts-ignore\r\n    promise.then(()=> {\r\n            dispatch(initializedSuccess())\r\n        })\r\n}\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profileReducer, {\r\n    addPostActionCreator,\r\n    deletePost,\r\n    savePhotoSuccess,\r\n    setStatus,\r\n    setUserProfile\r\n} from \"./profile-reducer\";\r\nimport dialogsReducer, {sendMessageCreator} from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer, {\r\n    followSuccess,\r\n    setCurrentPage, setFilter,\r\n    setTotalUsersCount,\r\n    setUsers, toggleIsFetching, toggleISFollowingProgress,\r\n    unfollowSuccess\r\n} from \"./users-reducer\";\r\nimport authReducer, {getCaptchaUrlSuccess, setAuthUserData, setMyProfile} from \"./auth-reducer\";\r\nimport thunkMiddleware, {ThunkAction} from \"redux-thunk\"\r\nimport {reducer as formReducer} from \"redux-form\"\r\nimport appReducer, {initializedSuccess} from \"./app-reducer\";\r\nimport chatReducer, {messagesDeleted, messagesReceived, statusChanged} from \"./chat-reducer\";\r\n\r\nlet rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sideBar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n    chat: chatReducer\r\n});\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducer>\r\n\r\nexport type AppActionsType = ReturnType<typeof addPostActionCreator>\r\n    | ReturnType<typeof sendMessageCreator>\r\n    | ReturnType<typeof followSuccess>\r\n    | ReturnType<typeof unfollowSuccess>\r\n    | ReturnType<typeof setUsers>\r\n    | ReturnType<typeof setCurrentPage>\r\n    | ReturnType<typeof setFilter>\r\n    | ReturnType<typeof setTotalUsersCount>\r\n    | ReturnType<typeof toggleIsFetching>\r\n    | ReturnType<typeof setUserProfile>\r\n    | ReturnType<typeof setAuthUserData>\r\n    | ReturnType<typeof setStatus>\r\n    | ReturnType<typeof toggleISFollowingProgress>\r\n    | ReturnType<typeof initializedSuccess>\r\n    | ReturnType<typeof deletePost>\r\n    | ReturnType<typeof savePhotoSuccess>\r\n    | ReturnType<typeof getCaptchaUrlSuccess>\r\n    | ReturnType<typeof messagesReceived>\r\n    | ReturnType<typeof statusChanged>\r\n    | ReturnType<typeof setMyProfile>\r\n    | ReturnType<typeof messagesDeleted>\r\n\r\n\r\nexport type AppThunkType <ReturnType = void> = ThunkAction<void, AppStateType, unknown, AppActionsType>\r\n\r\nexport let store = createStore(rootReducer, applyMiddleware(thunkMiddleware));\r\n\r\ndeclare var window: any; //refactor\r\nwindow.store = store","import React from \"react\";\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>News</div>\r\n    )\r\n}\r\nexport default News;","import React from \"react\";\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>Music</div>\r\n    )\r\n}\r\nexport default Music;","import React from \"react\";\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>Settings</div>\r\n    )\r\n}\r\nexport default Settings;","import React from \"react\";\r\nimport Friend, {FriendPropsType} from \"./Friend/Friend\";\r\nimport s from \"./Friends.module.css\"\r\n\r\nexport type FriendsPropsType = {\r\n    state: {\r\n        friends: Array<FriendPropsType>\r\n    }\r\n}\r\n\r\nconst Friends = (/*props: FriendsPropsType*/) => {\r\n\r\n/*\r\n    let friendsElements = props.state.friends.map((f:FriendPropsType) => <Friend name={f.name} id={f.id} avatar={f.avatar}/>)\r\n*/\r\n\r\n    return <div className={s.friendsContainer}>\r\n\r\n\r\n{/*\r\n        {friendsElements}\r\n*/}\r\n\r\n\r\n    </div>\r\n}\r\n\r\nexport default Friends;","import React from \"react\";\r\nimport {Pagination} from \"antd\";\r\n\r\ntype PaginatorPropsType = {\r\n    totalCount: number,\r\n    onPageChanged: (pageNumber: number) => void\r\n}\r\n\r\nconst Paginator: React.FC<PaginatorPropsType>= ({totalCount,onPageChanged}) => {\r\n    return <Pagination onChange={onPageChanged} total={totalCount} />\r\n}\r\n\r\nexport default Paginator","import React from \"react\";\r\nimport {UserType} from \"../../Redux/users-reducer\";\r\nimport s from \"./Users.module.css\"\r\nimport userPhoto from \"../../Assets/Images/avatar.png\"\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {Button, Image} from \"antd\";\r\n\r\ntype UserPropsType = {\r\n    user: UserType,\r\n    followingInProgress: number[],\r\n    unfollow: (userID: number) => void,\r\n    follow: (userID: number) => void,\r\n}\r\n\r\nconst User = React.memo((props: UserPropsType) => {\r\n    let user = props.user\r\n    return  <div>\r\n                <span>\r\n                    <div>\r\n                        <NavLink to={'/profile/' + user.id}>\r\n                        <img src={user.photos.small !== null ? user.photos.small : userPhoto} alt={user.name}\r\n                             className={s.userPhoto}/>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {user.followed\r\n                            ? <Button type=\"primary\" disabled={props.followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                                props.unfollow(user.id)\r\n                            }}>UNFOLLOW</Button>\r\n                            : <Button disabled={props.followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                                props.follow(user.id)\r\n                            }}>FOLLOW</Button>}\r\n                    </div>\r\n                </span>\r\n                <span>\r\n                    <span>\r\n                        <div>{user.name}</div>\r\n                        <div>{user.status}</div>\r\n                    </span>\r\n                </span>\r\n            </div>\r\n\r\n})\r\n\r\nexport default User","import {Field, Form, Formik} from \"formik\";\r\nimport React from \"react\";\r\nimport {FilterType} from \"../../Redux/users-reducer\";\r\nimport s from './Users.module.css'\r\nimport {Button} from \"antd\";\r\n\r\nconst usersSearchFormValidate = (values: any) => {\r\n    const errors = {};\r\n    return errors;\r\n}\r\ntype FormType = {\r\n    term: string\r\n    friend: \"true\" | \"false\" | \"null\"\r\n}\r\ntype PropsType = {\r\n   onFilterChanged: (filter: FilterType) => void\r\n}\r\n\r\nexport const UsersSearchForm: React.FC<PropsType> = React.memo((props ) => {\r\n    const submit = (values: FormType, {setSubmitting}: { setSubmitting: (isSubmitting: boolean) => void }) => {\r\n     const filter: FilterType = {\r\n         term: values.term,\r\n         friend: values.friend === \"null\"? null : values.friend === \"true\" ? true: false\r\n     }\r\n        props.onFilterChanged(filter);\r\n     setSubmitting(false)\r\n    }\r\n    return <div className={s.search}>\r\n        <Formik\r\n            initialValues={{term: '', friend: \"null\"}}\r\n            validate={usersSearchFormValidate}\r\n            onSubmit={submit}\r\n        >\r\n            {({isSubmitting}) => (\r\n                <Form className={s.form}>\r\n                    <Field type=\"text\" name=\"term\"/>\r\n                    <Field name=\"friend\" as=\"select\" >\r\n                        <option value=\"null\">All</option>\r\n                        <option value=\"true\">Only followed</option>\r\n                        <option value=\"false\">Only unfollowed</option>\r\n                    </Field>\r\n                    <Button htmlType=\"submit\" disabled={isSubmitting}>\r\n                        Find\r\n                    </Button>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    </div>\r\n})","import React from \"react\";\r\nimport {FilterType, UserType} from \"../../Redux/users-reducer\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\nimport {UsersSearchForm} from \"./UsersSearchForm\";\r\n\r\n\r\ntype UsersPropsType = {\r\n    users: Array<UserType>\r\n    follow: (userID: number) => void,\r\n    unfollow: (userID: number) => void,\r\n    pageSize: number,\r\n    totalUsersCount: number,\r\n    currentPage: number,\r\n    setCurrentPage: (p: number) => void\r\n    onPageChanged: (pageNumber: number) => void\r\n    onFilterChanged: (filter: FilterType)=> void\r\n    followingInProgress: number[]\r\n}\r\n\r\nconst Users = (props: UsersPropsType) => {\r\n    return <div>\r\n        <UsersSearchForm onFilterChanged = {props.onFilterChanged}/>\r\n        <Paginator onPageChanged={props.onPageChanged}\r\n                   totalCount={props.totalUsersCount}\r\n        />\r\n        <div>\r\n            {\r\n                props.users.map(u => <User user={u}\r\n                                           followingInProgress={props.followingInProgress}\r\n                                           follow={props.follow}\r\n                                           unfollow={props.unfollow}\r\n                                           key={u.id}\r\n                />)\r\n            }\r\n        </div>\r\n    </div>\r\n\r\n}\r\nexport default Users","import {AppStateType} from \"./redux-store\";\r\nimport {createSelector} from \"reselect\";\r\n\r\nexport const getUsers = (state: AppStateType)=> {\r\n    return state.usersPage.users\r\n}\r\nexport const getIsFetching = (state: AppStateType)=> {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\n// export const getUsersSuperSelector = createSelector(getUsers,\r\n//     (users) => {\r\n//     users.filter(u=> true)\r\n// })\r\n\r\nexport const getPageSize = (state: AppStateType)=> {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount = (state: AppStateType)=> {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state: AppStateType)=> {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getFollowingInProgress = (state: AppStateType)=> {\r\n    return state.usersPage.followingInProgress\r\n}\r\n\r\nexport const getUsersFilter = (state: AppStateType) => {\r\n    return state.usersPage.filter\r\n}","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../Redux/redux-store\";\r\nimport {\r\n    FilterType,\r\n    follow, requestUsers,\r\n    setCurrentPage,\r\n    toggleISFollowingProgress,\r\n    unfollow,\r\n    UserType\r\n} from \"../../Redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport {Preloader} from \"../common/preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getCurrentPage,\r\n    getIsFetching,\r\n    getFollowingInProgress, getUsers, getUsersFilter\r\n} from \"../../Redux/users-selectors\";\r\n\r\n\r\ntype UsersAPIComponentPropsType = {\r\n    users: Array<UserType>\r\n    follow: (userID: number) => void,\r\n    unfollow: (userID: number) => void,\r\n    pageSize: number,\r\n    filter: FilterType\r\n    totalUsersCount: number,\r\n    currentPage: number,\r\n    setCurrentPage: (p: number) => void,\r\n    isFetching: boolean,\r\n    toggleISFollowingProgress: (isFetching: boolean, userId: number) => void,\r\n    followingInProgress: number[]\r\n    requestUsers: (currentPage: number, pageSize: number, filter: FilterType) => void\r\n}\r\n\r\nclass UsersContainer extends React.Component<UsersAPIComponentPropsType, any> {\r\n    componentDidMount() {\r\n        this.props.requestUsers(this.props.currentPage, this.props.pageSize, this.props.filter);\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        const {pageSize, filter} = this.props\r\n        this.props.requestUsers(pageNumber, pageSize, filter);\r\n    }\r\n    onFilterChanged = (filter: FilterType) => {\r\n        const {pageSize, currentPage} = this.props\r\n        this.props.requestUsers(1, pageSize , filter);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   onPageChanged={this.onPageChanged}\r\n                   onFilterChanged={this.onFilterChanged}\r\n                   users={this.props.users}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   setCurrentPage={this.props.setCurrentPage}\r\n                   followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        filter: getUsersFilter(state)\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps,\r\n        {\r\n            follow, unfollow, setCurrentPage,\r\n            toggleISFollowingProgress, requestUsers\r\n        }),\r\n)(UsersContainer)","import React from 'react';\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../common/formControls/FormControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../Redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {AppStateType} from \"../../Redux/redux-store\";\r\nimport s from \"../common/formControls/FormControls.module.css\"\r\n\r\ntype FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n    captcha: string\r\n}\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<FormDataType> & {captchaUrl: string | null}> = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field placeholder={\"Email\"}\r\n                       name={\"email\"}\r\n                       component={Input}\r\n                       validate={[required]}\r\n                />\r\n            </div>\r\n            <div>\r\n                <Field placeholder={\"password\"}\r\n                       name={\"password\"}\r\n                       type={\"password\"}\r\n                       component={Input}\r\n                       validate={[required]}\r\n                />\r\n            </div>\r\n            <div>\r\n                <Field type=\"checkbox\" name={\"remember me\"} component={Input}/> remember me\r\n            </div>\r\n            {props.captchaUrl && <img src={props.captchaUrl}/>}\r\n            {props.captchaUrl && <Field name={\"captcha\"} component={Input} validate={[required]}/>}\r\n\r\n            {props.error && <div className={s.formSummaryError}>\r\n                {props.error}\r\n            </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\n// @ts-ignore\r\nconst LoginReduxForm = reduxForm<FormDataType>({\r\n    form: \"login\"\r\n    // @ts-ignore\r\n})(LoginForm)\r\n\r\nconst Login = (props: any) => {\r\n    const onSubmit = (formData: FormDataType) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    } else {\r\n        return <div>\r\n            <h1>Login</h1>\r\n            { // @ts-ignore\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>}\r\n        </div>\r\n    }\r\n\r\n}\r\n\r\ntype MapStatePropsType = {\r\n    captchaUrl: string | null,\r\n    isAuth: boolean\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStatePropsType => {\r\n    return {\r\n        captchaUrl: state.auth.captchaUrl,\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {login})(Login);","import React, {useEffect} from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport {Avatar, Button, Col, Layout, Menu, Row} from \"antd\";\r\nimport {UserOutlined} from \"@ant-design/icons\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../Redux/redux-store\";\r\nimport {getMyProfile, logout} from \"../../Redux/auth-reducer\";\r\n\r\n\r\nconst Header = () => {\r\n    const {Header} = Layout;\r\n    const isAuth = useSelector<AppStateType, boolean>(state=> state.auth.isAuth)\r\n    const login =useSelector<AppStateType, string| null> (state=> state.auth.login)\r\n    const userId=useSelector<AppStateType, string| null> (state=> state.auth.userId)\r\n\r\n    const dispatch = useDispatch()\r\n    const logoutCallback = ()=> {\r\n        dispatch(logout())\r\n    }\r\n    useEffect(()=>{\r\n        if (userId) {\r\n            dispatch(getMyProfile(userId))\r\n        }\r\n    }, [userId])\r\n\r\n    const avatar = useSelector<AppStateType, string| undefined>(state=> state.auth.myProfile?.photos.small)\r\n    const avatarAddress = avatar !== undefined? avatar : ''\r\n\r\n    return <Header className=\"header\">\r\n        <Row>\r\n            <Col span={18}>\r\n                <Menu theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={['2']}>\r\n                    <Menu.Item key=\"1\"><Menu.Item key=\"5\"><NavLink to=\"/developers\">Developers</NavLink></Menu.Item></Menu.Item>\r\n                </Menu>\r\n            </Col>\r\n                    { isAuth\r\n                        ? <>\r\n                            <Col span={1}> <NavLink to={'/profile'}><Avatar src={avatarAddress}\r\n                                                                  alt={login || \"\"}\r\n                                                                  style={{ backgroundColor: '#e7e8ec', border: '2px solid #e7e8ec'}}\r\n                                                                  size={\"large\"}\r\n                                                                  icon={<UserOutlined />} /></NavLink>\r\n                            </Col>\r\n                            <Col span={5}> <Button onClick={logoutCallback}>Log out</Button> </Col>\r\n                        </>\r\n                        : <Col span={6}>\r\n                            <Button><NavLink to={'/login'}>Login </NavLink></Button>\r\n                        </Col> }\r\n        </Row>\r\n    </Header>\r\n}\r\n\r\nexport default Header;","import React, {Suspense} from 'react';\nimport './App.css';\nimport 'antd/dist/antd.css';\nimport {Layout, Menu, Breadcrumb, Alert} from 'antd';\nimport {UserOutlined, LaptopOutlined, NotificationOutlined} from '@ant-design/icons';\nimport {HashRouter, NavLink, Redirect, Route, Switch, withRouter} from \"react-router-dom\";\nimport {AppStateType, AppThunkType, store} from \"./Redux/redux-store\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./Redux/app-reducer\";\nimport {Preloader} from \"./components/common/preloader/Preloader\";\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\nimport Friends from \"./components/Friends/Friends\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport Login from \"./components/login/Login\";\nimport Header from \"./components/Header/Header\";\n\nconst ProfileContainer = React.lazy(() => import ('./components/Profile/ProfileContainer'))\nconst DialogsContainer = React.lazy(() => import ('./components/Dialogs/DialogsContainer'))\nconst ChatPage = React.lazy(() => import ('./pages/Chat/ChatPage'))\n\n\nconst {SubMenu} = Menu;\nconst {Content, Sider} = Layout;\n\n\ntype MapStatePropsType = {\n    initialized: boolean\n}\n\ntype MapDispatchPropsType = {\n    initializeApp: () => AppThunkType;\n}\n\ntype AppPropsType = MapDispatchPropsType & MapStatePropsType\n\nclass App extends React.Component<AppPropsType> {\n    catchAllUnhandledErrors = (promiseRejectionEvent: any) => {\n        alert(\"Some error occured\")\n        console.error(promiseRejectionEvent)\n    }\n\n    componentDidMount() {\n        this.props.initializeApp()\n        window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        return (\n            <Layout>\n                <Header/>\n                <Layout>\n                    <Sider width={250} className=\"site-layout-background\">\n                        <Menu\n                            mode=\"inline\"\n                            /*defaultSelectedKeys={['1']}*/\n                            style={{height: '100%', borderRight: 0}}\n                        >\n                            <SubMenu key=\"sub1\" icon={<UserOutlined/>} title=\"My profile\">\n                                <Menu.Item key=\"1\"><NavLink to=\"/profile\"> Profile</NavLink></Menu.Item>\n                                <Menu.Item key=\"2\"> <NavLink to=\"/dialogs\">Dialogs</NavLink></Menu.Item>\n                            </SubMenu>\n                            <SubMenu key=\"sub2\" icon={<LaptopOutlined/>} title=\"Developers\">\n                                <Menu.Item key=\"5\"><NavLink to=\"/developers\">Developers</NavLink></Menu.Item>\n                            </SubMenu>\n                            <SubMenu key=\"sub3\" icon={<NotificationOutlined/>} title=\"Chat\">\n                                <Menu.Item key=\"9\"><NavLink to=\"/chat\">Chat</NavLink></Menu.Item>\n                            </SubMenu>\n                        </Menu>\n                    </Sider>\n                    <Layout style={{padding: '0 24px 24px'}}>\n                        <Content\n                            className=\"site-layout-background\"\n                            style={{\n                                padding: 24,\n                                margin: 0,\n                                minHeight: 280,\n                            }}\n                        >\n                            <Switch>\n                                <Route path={'/news'} component={News}/>\n                                <Route path={'/music'} component={Music}/>\n                                <Route path={'/settings'} component={Settings}/>\n                                <Route path={'/friends'} render={() => <Friends/>}/>\n                                <Route path={'/developers'} render={() => <UsersContainer/>}/>\n                                <Suspense fallback={<Preloader/>}>\n                                    <Route path='/' exact><Redirect to='/profile'/></Route>\n                                    <Route path={'/login'} render={() => <Login/>}/>\n                                    <Route path={'/chat'} render={() => <ChatPage/>}/>\n                                    <Route path={'/profile/:userId?'} render={() => <ProfileContainer/>}/>\n                                    <Route path={'/dialogs'} render={() => <DialogsContainer/>}/>\n                                </Suspense>\n                            </Switch>\n\n                        </Content>\n                    </Layout>\n                </Layout>\n            </Layout>\n        );\n    }\n}\n\nconst mapStateToProps = (state: AppStateType) => ({\n    initialized: state.app.initialized\n})\n\nlet AppContainer = compose<React.ComponentType>(\n    connect(mapStateToProps, {initializeApp}),\n    withRouter,\n)(App);\n\nexport const SamuraiJSApp = () => {\n    return <HashRouter>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </HashRouter>\n}\n","import reportWebVitals from './reportWebVitals';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport  {SamuraiJSApp} from './App';\nimport {DialogItemPropsType} from \"./components/Dialogs/DialogItem/DialogItem\";\nimport {MessagePropsType} from \"./components/Dialogs/Message/Message\";\nimport {PostPropsType} from \"./components/Profile/MyPosts/Post/Post\";\nimport {FriendPropsType} from \"./components/Friends/Friend/Friend\";\n\nexport type statePropsType = {\n    dialogsPage: {\n        dialogs: Array<DialogItemPropsType>,\n        messages: Array<MessagePropsType>,\n        newMessageBody: string\n    },\n    profilePage: {\n        posts: Array<PostPropsType>\n        newPostText: string,\n        profile: any\n    },\n    sideBar: {\n        friends: Array<FriendPropsType>\n    }\n}\n\n    ReactDOM.render(\n        <SamuraiJSApp />, document.getElementById('root')\n    );\n\n\n\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import React from \"react\";\r\nimport s from \"./FormControls.module.css\"\r\n\r\nconst FormControl =  ({input, meta,child, ...props}: any)=> {\r\n\r\n    const hasError = meta.touched && meta.error\r\n    return (\r\n        <div className={s.formControl + \" \" + (hasError? s.error : \"\")}>\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props: any)=> {\r\n    const {input, meta,child, ...restProps} = props\r\n    return <FormControl {...props}><textarea {...input}{...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input = (props: any)=> {\r\n    const {input, meta,child, ...restProps} = props\r\n    return <FormControl {...props}><input {...input}{...restProps}/></FormControl>\r\n}\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__2DK8S\",\"error\":\"FormControls_error__sGwtC\",\"formSummaryError\":\"FormControls_formSummaryError__1n2jB\"};"],"sourceRoot":""}